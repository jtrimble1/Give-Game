{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useUser}from'@clerk/clerk-react';import'./RolePage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function RolePage(){const[role,setRole]=useState('');const[isUserSaved,setIsUserSaved]=useState(false);const{user}=useUser();const navigate=useNavigate();const handleSubmit=()=>{console.log('Selected Role:',role);navigate('');};useEffect(()=>{if(!user||isUserSaved)return;const saveUser=async()=>{try{var _user$phoneNumbers,_user$phoneNumbers$;const res=await fetch('/api/users',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:user.primaryEmailAddress.emailAddress,first_name:user.firstName,last_name:user.lastName,photo_url:user.imageUrl,phone:((_user$phoneNumbers=user.phoneNumbers)===null||_user$phoneNumbers===void 0?void 0:(_user$phoneNumbers$=_user$phoneNumbers[0])===null||_user$phoneNumbers$===void 0?void 0:_user$phoneNumbers$.phoneNumber)||null,method:user.externalAccounts.length>0?user.externalAccounts[0].provider:'local'})});const data=await res.json();console.log('User saved:',data);setIsUserSaved(true);}catch(error){console.error('Error saving user:',error);}};saveUser();},[user,isUserSaved]);const handleContinue=()=>{// if (role === 'coach' || role === 'parent' || role === 'sponsor') {\n//     navigate(`/signup/${role}`);\n//   } else {\n//     navigate('/thank-you');\n//   }\nif(role){navigate('/thank-you');}};return/*#__PURE__*/_jsx(\"div\",{className:\"role-page-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"role-card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"role-title\",children:\"I want to Give and Game As:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"role-options\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"role-option\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"role\",value:\"coach\",onChange:e=>setRole(e.target.value)}),/*#__PURE__*/_jsx(\"span\",{children:\"Coach / Team\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"role-option\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"role\",value:\"parent\",onChange:e=>setRole(e.target.value)}),/*#__PURE__*/_jsx(\"span\",{children:\"Parent / Guardian\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"role-option\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"role\",value:\"sponsor\",onChange:e=>setRole(e.target.value)}),/*#__PURE__*/_jsx(\"span\",{children:\"Sponsor / Corporate Sponsor\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleContinue,disabled:!role,className:`next-button ${!role?'disabled':''}`,children:\"Next\"})]})});}export default RolePage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useUser","jsx","_jsx","jsxs","_jsxs","RolePage","role","setRole","isUserSaved","setIsUserSaved","user","navigate","handleSubmit","console","log","saveUser","_user$phoneNumbers","_user$phoneNumbers$","res","fetch","method","headers","body","JSON","stringify","email","primaryEmailAddress","emailAddress","first_name","firstName","last_name","lastName","photo_url","imageUrl","phone","phoneNumbers","phoneNumber","externalAccounts","length","provider","data","json","error","handleContinue","className","children","type","name","value","onChange","e","target","onClick","disabled"],"sources":["/Users/jamieltrimble/Desktop/projects/Give-Game/givengame-frontend/src/Pages/RolePage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useUser } from '@clerk/clerk-react'\nimport './RolePage.css'\n\nfunction RolePage () {\n    const [role, setRole] = useState('');\n    const [isUserSaved, setIsUserSaved] = useState(false);\n    const { user } = useUser();\n    const navigate = useNavigate();\n    const handleSubmit = () => {\n\n        console.log('Selected Role:', role);\n        navigate('');\n    }\n\n    useEffect(() => {\n        if (!user || isUserSaved) return;\n    \n        const saveUser = async () => {\n          try {\n            const res = await fetch('/api/users', {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify({\n                email: user.primaryEmailAddress.emailAddress,\n                first_name: user.firstName,\n                last_name: user.lastName,\n                photo_url: user.imageUrl,\n                phone: user.phoneNumbers?.[0]?.phoneNumber || null,\n                method:\n                  user.externalAccounts.length > 0\n                    ? user.externalAccounts[0].provider\n                    : 'local',\n              }),\n            });\n    \n            const data = await res.json();\n            console.log('User saved:', data);\n            setIsUserSaved(true);\n          } catch (error) {\n            console.error('Error saving user:', error);\n          }\n        };\n    \n        saveUser();\n      }, [user, isUserSaved]);\n    \n      const handleContinue = () => {\n\n        // if (role === 'coach' || role === 'parent' || role === 'sponsor') {\n        //     navigate(`/signup/${role}`);\n        //   } else {\n        //     navigate('/thank-you');\n        //   }\n        if (role) {\n          navigate('/thank-you');\n        }\n      };\n\n    \n\n\n    return (\n        <div className=\"role-page-container\">\n      <div className=\"role-card\">\n        <h2 className=\"role-title\">I want to Give and Game As:</h2>\n        <div className=\"role-options\">\n          <label className=\"role-option\">\n            <input type=\"radio\" name=\"role\" value=\"coach\" onChange={(e) => setRole(e.target.value)} />\n            <span>Coach / Team</span>\n          </label>\n\n          <label className=\"role-option\">\n            <input type=\"radio\" name=\"role\" value=\"parent\" onChange={(e) => setRole(e.target.value)} />\n            <span>Parent / Guardian</span>\n          </label>\n\n          <label className=\"role-option\">\n            <input type=\"radio\" name=\"role\" value=\"sponsor\" onChange={(e) => setRole(e.target.value)} />\n            <span>Sponsor / Corporate Sponsor</span>\n          </label>\n        </div>\n\n        <button\n          onClick={handleContinue}\n          disabled={!role}\n          className={`next-button ${!role ? 'disabled' : ''}`}\n        >\n          Next\n        </button>\n      </div>\n    </div>\n\n    )\n}\n\nexport default RolePage"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}